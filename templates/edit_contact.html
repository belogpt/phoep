{% extends 'base.html' %}
{% block content %}
<h3>{% if contact %}Редактировать контакт{% else %}Новый контакт{% endif %}</h3>
<form method="post" action="{% if contact %}{{ url_for('phonebook.edit_contact', contact_id=contact.contact_id) }}{% else %}{{ url_for('phonebook.new_contact') }}{% endif %}" class="card p-3">
    <div class="mb-3">
        <label class="form-label">Группа</label>
        <input class="form-control" list="groupOptions" name="group" value="{{ contact.group if contact else '' }}" required maxlength="99">
        <datalist id="groupOptions">
            {% for g in groups %}
                <option value="{{ g.name }}">{{ g.name }}</option>
            {% endfor %}
        </datalist>
    </div>
    <div class="mb-3">
        <label class="form-label">Имя</label>
        <input class="form-control" type="text" name="name" value="{{ contact.name if contact else '' }}" required maxlength="99">
    </div>
    <div class="mb-3">
        <label class="form-label">Рабочий номер</label>
        <input class="form-control" type="text" name="office" value="{{ contact.office if contact else '' }}" maxlength="32">
    </div>
    <div class="mb-3">
        <label class="form-label">Мобильный номер</label>
        <input class="form-control" type="text" name="mobile" value="{{ contact.mobile if contact else '' }}" maxlength="32">
    </div>
    <div class="mb-3">
        <label class="form-label">Другой номер</label>
        <input class="form-control" type="text" name="other" value="{{ contact.other if contact else '' }}" maxlength="32">
    </div>
    <div class="d-flex gap-2">
        <button type="submit" class="btn btn-primary">Сохранить</button>
        <a class="btn btn-secondary" href="{{ url_for('phonebook.index') }}">Отмена</a>
    </div>
</form>
{% endblock %}
